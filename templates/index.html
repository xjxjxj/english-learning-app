<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>英语学习助手 | English Learning Assistant</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- 侧边栏 -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-graduation-cap"></i>
                    <span>英语学习助手</span>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li class="active" data-page="dashboard">
                        <a href="#">
                            <i class="fas fa-home"></i>
                            <span>仪表盘</span>
                        </a>
                    </li>
                    <li data-page="words">
                        <a href="#">
                            <i class="fas fa-book"></i>
                            <span>单词管理</span>
                        </a>
                    </li>
                    <li data-page="sentences">
                        <a href="#">
                            <i class="fas fa-comment-dots"></i>
                            <span>句子翻译</span>
                        </a>
                    </li>
                    <li data-page="grammar">
                        <a href="#">
                            <i class="fas fa-spell-check"></i>
                            <span>语法结构</span>
                        </a>
                    </li>
                    <li data-page="review">
                        <a href="#">
                            <i class="fas fa-redo"></i>
                            <span>复习中心</span>
                            <span class="badge" id="reviewBadge">0</span>
                        </a>
                    </li>
                    <li data-page="statistics">
                        <a href="#">
                            <i class="fas fa-chart-bar"></i>
                            <span>数据统计</span>
                        </a>
                    </li>
                    <li data-page="search">
                        <a href="#">
                            <i class="fas fa-search"></i>
                            <span>搜索</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <div class="study-streak">
                    <i class="fas fa-fire"></i>
                    <span>连续学习 <strong id="streakDays">0</strong> 天</span>
                </div>
            </div>
        </aside>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 顶部栏 -->
            <header class="top-bar">
                <h1 class="page-title" id="pageTitle">仪表盘</h1>
                <div class="top-bar-actions">
                    <button class="btn btn-primary" id="quickAddBtn">
                        <i class="fas fa-plus"></i>
                        <span>快速添加</span>
                    </button>
                </div>
            </header>

            <!-- 内容区域 -->
            <div class="content-wrapper" id="contentWrapper">
                <!-- 仪表盘页面 -->
                <div class="page active" id="dashboard">
                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <div class="stat-icon words">
                                <i class="fas fa-book"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalWords">0</h3>
                                <p>总单词数</p>
                                <span class="stat-today">+ <span id="todayWords">0</span> 今日</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon sentences">
                                <i class="fas fa-comment-dots"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalSentences">0</h3>
                                <p>总句子数</p>
                                <span class="stat-today">+ <span id="todaySentences">0</span> 今日</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon grammar">
                                <i class="fas fa-spell-check"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="totalGrammar">0</h3>
                                <p>总语法数</p>
                                <span class="stat-today">+ <span id="todayGrammar">0</span> 今日</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon review">
                                <i class="fas fa-redo"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="toReview">0</h3>
                                <p>待复习</p>
                                <span class="stat-action" onclick="navigateTo('review')">去复习</span>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <h3>学习活动</h3>
                            <div class="activity-list" id="activityList">
                                <!-- 动态生成 -->
                            </div>
                        </div>
                        <div class="dashboard-card">
                            <h3>快速操作</h3>
                            <div class="quick-actions">
                                <button class="quick-action-btn" onclick="openModal('word')">
                                    <i class="fas fa-plus-circle"></i>
                                    <span>添加单词</span>
                                </button>
                                <button class="quick-action-btn" onclick="openModal('sentence')">
                                    <i class="fas fa-plus-circle"></i>
                                    <span>添加句子</span>
                                </button>
                                <button class="quick-action-btn" onclick="openModal('grammar')">
                                    <i class="fas fa-plus-circle"></i>
                                    <span>添加语法</span>
                                </button>
                                <button class="quick-action-btn" onclick="navigateTo('review')">
                                    <i class="fas fa-play-circle"></i>
                                    <span>开始复习</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 单词管理页面 -->
                <div class="page" id="words">
                    <div class="page-actions">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="wordSearch" placeholder="搜索单词...">
                        </div>
                        <div class="filters">
                            <select id="wordDifficulty">
                                <option value="">全部难度</option>
                                <option value="easy">简单</option>
                                <option value="medium">中等</option>
                                <option value="hard">困难</option>
                            </select>
                            <select id="wordFavorite">
                                <option value="">全部</option>
                                <option value="true">已收藏</option>
                            </select>
                            <button class="btn btn-primary" onclick="openModal('word')">
                                <i class="fas fa-plus"></i> 添加单词
                            </button>
                        </div>
                    </div>
                    <div class="data-table-container">
                        <table class="data-table" id="wordsTable">
                            <thead>
                                <tr>
                                    <th><input type="checkbox" id="selectAllWords"></th>
                                    <th>单词</th>
                                    <th>音标</th>
                                    <th>释义</th>
                                    <th>难度</th>
                                    <th>复习次数</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody id="wordsTableBody">
                                <!-- 动态生成 -->
                            </tbody>
                        </table>
                    </div>
                    <div class="pagination" id="wordsPagination"></div>
                </div>

                <!-- 句子管理页面 -->
                <div class="page" id="sentences">
                    <div class="page-actions">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="sentenceSearch" placeholder="搜索句子...">
                        </div>
                        <div class="filters">
                            <select id="sentenceType">
                                <option value="">全部类型</option>
                                <option value="translation">翻译练习</option>
                                <option value="daily">日常用语</option>
                                <option value="business">商务英语</option>
                                <option value="academic">学术英语</option>
                                <option value="slang">俚语</option>
                                <option value="quote">名言</option>
                            </select>
                            <button class="btn btn-primary" onclick="openModal('sentence')">
                                <i class="fas fa-plus"></i> 添加句子
                            </button>
                        </div>
                    </div>
                    <div class="sentences-grid" id="sentencesGrid">
                        <!-- 动态生成 -->
                    </div>
                    <div class="pagination" id="sentencesPagination"></div>
                </div>

                <!-- 语法页面 -->
                <div class="page" id="grammar">
                    <div class="page-actions">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="grammarSearch" placeholder="搜索语法...">
                        </div>
                        <div class="filters">
                            <select id="grammarDifficulty">
                                <option value="">全部难度</option>
                                <option value="beginner">初级</option>
                                <option value="intermediate">中级</option>
                                <option value="advanced">高级</option>
                            </select>
                            <select id="grammarMastered">
                                <option value="">全部</option>
                                <option value="true">已掌握</option>
                                <option value="false">未掌握</option>
                            </select>
                            <button class="btn btn-primary" onclick="openModal('grammar')">
                                <i class="fas fa-plus"></i> 添加语法
                            </button>
                        </div>
                    </div>
                    <div class="grammar-grid" id="grammarGrid">
                        <!-- 动态生成 -->
                    </div>
                </div>

                <!-- 复习页面 -->
                <div class="page" id="review">
                    <div class="review-header">
                        <h2>复习中心</h2>
                        <p>今天有 <span id="reviewCount">0</span> 个项目需要复习</p>
                    </div>
                    <div class="review-filters">
                        <button class="filter-btn active" data-filter="all">全部</button>
                        <button class="filter-btn" data-filter="word">单词</button>
                        <button class="filter-btn" data-filter="sentence">句子</button>
                        <button class="filter-btn" data-filter="grammar">语法</button>
                    </div>
                    <div class="review-list" id="reviewList">
                        <!-- 动态生成 -->
                    </div>
                </div>

                <!-- 统计页面 -->
                <div class="page" id="statistics">
                    <div class="stats-grid">
                        <div class="stats-card">
                            <h3>单词难度分布</h3>
                            <canvas id="wordDifficultyChart"></canvas>
                        </div>
                        <div class="stats-card">
                            <h3>句子类型分布</h3>
                            <canvas id="sentenceTypeChart"></canvas>
                        </div>
                        <div class="stats-card">
                            <h3>语法难度分布</h3>
                            <canvas id="grammarDifficultyChart"></canvas>
                        </div>
                        <div class="stats-card wide">
                            <h3>最近7天学习趋势</h3>
                            <canvas id="weeklyChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- 搜索页面 -->
                <div class="page" id="search">
                    <div class="search-page">
                        <div class="search-box large">
                            <i class="fas fa-search"></i>
                            <input type="text" id="globalSearch" placeholder="搜索单词、句子或语法...">
                            <button class="btn btn-primary" onclick="performSearch()">搜索</button>
                        </div>
                        <div class="search-results" id="searchResults">
                            <!-- 动态生成 -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- 模态框 -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">添加</h3>
                <button class="modal-close" onclick="closeModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="modalForm">
                    <!-- 动态生成表单字段 -->
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal()">取消</button>
                <button class="btn btn-primary" onclick="submitForm()">保存</button>
            </div>
        </div>
    </div>

    <!-- 详情模态框 -->
    <div class="modal" id="detailModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3 id="detailModalTitle">详情</h3>
                <button class="modal-close" onclick="closeDetailModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="detailModalBody">
                <!-- 动态生成详情内容 -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeDetailModal()">关闭</button>
                <button class="btn btn-primary" id="detailActionBtn">复习</button>
            </div>
        </div>
    </div>

    <!-- Toast 通知 -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- 加载动画 -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
